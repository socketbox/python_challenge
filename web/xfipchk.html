<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>X-Force IP Check</title>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.js"
            integrity="sha256-tA8y0XqiwnpwmOIl3SGAcFl2RvxHjA8qp0+1uCGmRmg=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.js"></script>
    <script>

        function check_ips()
        {
            var req = $.ajax({'url': '/process_form'});
            req.done(function (data){
                //$.getElementById("results_div").setAttribute("hidden")
                $( "#results" ).html( data ); }, "json");
        }

    </script>
    <link rel="stylesheet" type="text/css" href="xfipchk.css"/>
</head>
<body>
<div id="column">
    <form id="the_form" action="process_form" method="post">
        <div>
            <p><span class="instructions">Instructions:</span></p>
            <ol>
                <li>Paste your IBM X-Force API key and password into the corresponding fields.</li>
                <li>Enter IP addresses in the box labeled accordingly, each IP address on its own line.</li>
                <li>Press the Submit button to call the API.</li>
                <li>Review the results.</li>
                <li>Press the Stop Demo button to stop the demo.</li>
            </ol>
            </p>
            <label for="api_key">X-Force API Key</label>
            <input type="text" autofocus required class="api_cred" name="api_key" id="api_key" title="api_key"
                   placeholder="01234567-9abc-def0-1234-56789abcdef0" pattern="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$" max="36"/>
            <br/>
            <label for="api_password">X-Force API Password</label>
            <input type="text" class="api_cred" required name="api_password" id="api_password" title="api_password"
                   placeholder="01234567-9abc-def0-1234-56789abcdef0" pattern="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$" maxlength="36"/>
        </div>
        <div id="textarea">
            <label for="ip_addresses">IP Addresses</label>
            <textarea class="ip_addresses" name="ip_addresses" id="ip_addresses"></textarea>
        </div>
        <div id="std_buttons">
            <button id="submit" form="the_form" onclick="check_ips()">Submit</button> <button id="reset" type="reset" form="the_form" value="reset">Reset</button>
        </div>
    </form>
</div>
</body>
</html>